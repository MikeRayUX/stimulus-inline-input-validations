<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Stimulus Rails Inline Input Validations</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>
    <script>
    window.esmsInitOptions = {enable: ['css-modules', 'json-modules']}
    </script>
    <script async src="https://unpkg.com/es-module-shims/dist/es-module-shims.js"></script>

    <script type="importmap">
    {
      "imports": {
        "@hotwired/stimulus": "https://unpkg.com/@hotwired/stimulus/dist/stimulus.js",
        "stimulus-inline-input-validations": "./dist/stimulus-inline-input-validations.module.js"
      }
    }
    </script>

    <script type="module">
    import { Application } from "@hotwired/stimulus";
    import { InputValidator } from "stimulus-inline-input-validations";

    (() => {
      const application = Application.start();
      application.register('input-validator', InputValidator);
    })()
    </script>
  </head>

  <body>
    <div class="container mx-auto p-8 w-full" data-controller="input-validator" data-action="something">
      <div data-controller="input-validator" class="flex flex-col justify-center items-center w-full">
        <!-- section start -->
        <div class="w-full max-w-xs flex flex-col justify-center items-center">
          <h1 class="text-xl text-center font-bold">Single Validations</h1>
          <!-- presence start-->
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="fullName">Presence</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='fullName'
              data-validate-presence="true"
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="fullName"
              class=""></div>
          </div>
          <!-- presence end-->

          <!-- length start-->
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="userName">Length (min,max)</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='userName'
              data-validate-length="5,10"
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="userName"
              class=""></div>
          </div>
          <!-- length end-->

          <!-- numericality start-->
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="currency">Numericality</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='currency'
              data-validate-numericality="true"
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="currency"
              class=""></div>
          </div>
          <!-- numericality end-->

          <!-- email start-->
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="currency">Email</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='emailField'
              data-validate-email="true"
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="emailField"
              class=""></div>
          </div>
          <!-- email end-->
        </div>
        <!-- section end-->

        <!-- section start -->
        <div class="w-full max-w-xs flex flex-col justify-center items-center">
          <h1 class="text-xl text-center font-bold">Multiple validations</h1>
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="multiple">Length, Presence, Numericality, Email</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='multiple'
              data-validate-presence
              data-validate-length="5,10"
              data-validate-numericality="true"
              data-validate-email="true"
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="multiple"
              class=""></div>
          </div>
        </div>
        <!-- section end-->

        <!-- section start -->
        <div class="w-full max-w-xs flex flex-col justify-center items-center">
          <h1 class="text-xl text-center font-bold">Multiple Validations (json array)</h1>
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="fullName">'[{"presence": true}, {"numericality": true} {"length": {"max": 50}}]'</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='railsModel'
              data-validations='[{"presence": true}, {"numericality": true} {"length": {"max": 50}}]'
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="railsModel"
              class=""></div>
          </div>
        </div>
        <!-- section end-->
        <!-- section start -->
        <div class="w-full max-w-xs flex flex-col justify-center items-center">
          <h1 class="text-xl text-center font-bold">Custom error styles</h1>
          <!-- email start-->
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="fullName">CSS (font-size: 14px; color: blue)</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='customCSS'
              data-validate-email
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="customCSS"
              data-errors-styles-css="font-size: 14px; color: blue;"
              class=""></div>
          </div>
          <!-- email end-->

          <!-- email start-->
          <div class="flex flex-col justify-center items-start mb-2 w-full">
            <label for="fullName">Classes (text-lg text-purple-600 font-bold)</label>
            <input 
              type="text" 
              data-input-validator-target="textField" 
              data-field='customClasses'
              data-validate-email
              class="w-full"
            >
            <div
              data-input-validator-target="errors"
              data-field="customClasses"
              data-errors-styles-class="text-lg text-purple-600 font-bold"
              class=""></div>
          </div>
          <!-- email end-->
        </div>
        <!-- section end-->
      </div>
    </div>
  </body>

</html>
